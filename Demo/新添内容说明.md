# 降序更新
>本项目已添加至个人GitHub仓库,永久更新地址 [新闻发布系统V3.0 By杀手不太冷](https://github.com/gaohongkui/webapps)

## 第十三周上机
1. 完成上机内容
2. 为`News`新添属性`type`，用于存放真实的新闻类型（例如校园、国内，为了在首页显示出来）
3. 部分`Servlet`使用`@WebServlet()`注解，与配置`web.xml`都做尝试
4. 在查询中增加关键字回显功能，即显示关键字并把用户原输入的关键字标红
5. 标题过长省略显示机制，当标题过长时，超出部分用省略号`···`代替，主要用 `white-space: nowrap;text-overflow: ellipsis;`实现

## 第十二周上机
1. 由于本周上机内容已在之前上机中完成，故仅修改了`doModiNews.jsp`中的内容，使用`EL表达式`和`JSTL`语法。
2. 完成了 `ectable` 的翻页功能。
3. 引入`servlet`实现翻页的功能(具体原因如下)。
> **此处记录心路历程，一开始为了实现这个翻页功能，可真是费了好大一股力。因为总觉得需要处理好页面参数和如何返回合适的数据，以及怎么跟`ectable`结合起来。为此我还查阅了大量的`ectable`文档(文档好少，百度搜索结果也就几页)，在翻阅文档的过程我看到有的说要实现`RetrieveRowsCallback`和`limit`之类的，搞的头大。最后才发现，其实只需要在`ectable`的'action'属性中设置为当前页面就可以由`ectable`自动接管翻页的功能:cry::cry::cry:。**
> **但是回想一下，虽然最后结果很简单，但这中间探索的过程却是让我学到了很多，我也是一步一步尝试才得到最后这个“简单”的结果的(我是在测试用`servlet`实现`Limit`返回结果时发现的，因此我决定还是用`servlet`实现吧，虽然这样会显得多余了一点，算是为下一章做准备。**

## 第十一周上机
1. 完成上机要求
2. 修改css风车动画的层叠效果，将其置于底层，防止点击时误触。
3. 为添加新闻和修改新闻增加**富文本编辑器**，让新闻的编辑更加方便美观！
4. 新增注销防返回机制，用户注销后点击返回不会显示用户信息，仍是登录状态。
5. 修改之前判断用户注册名是否重复的`AJAX`代码，在返回时使用`response.getWriter().close();`关闭输出流，否则会出现返回多余内容的问题。（也算是解决了之前的困扰）

## 第十周上机
1. 不创建`newstype`类来获取类型列表，而是直接将查询的结果封装在列表里返回，类型为`List<Map<String,String>>`
例如数据为`[{"id":"1","newsType","校内"},{"id":"2","newsType","社会"}]`
2. 以后返回多个数据的都以数据列表返回，因此封装一个数据库操作`public List<Map<String, String>> getMultiRecord(String sql){}`
3. 已在部分地方使用`EL表达式`和`JSTL`语法
4. 修改操作成功或失败（添加、修改、删除新闻）时的提示页面，取消了页面+超链接跳转的方式。改用弹出对话框提示，并当用户点击确定后自动跳转到合适的页面。

## 第九--十周上机(课本要求自己写的新闻修改和删除)
1. 在完成修改与删除新闻时，提供返回上一页面按钮（并刷新），而不是首页。 
2. 更新图标按钮，新系列按钮被添加。
3. 引入`ectable`，优化表格显示逻辑，令表格的可交互性更强。

## 第九周上机
1. 完成上机要求
2. 在`UserDAO`中添加一个`User`对象,用于存储jsp界面所需信息,例如判断登录用户的类型.使用`serDAO.user.getUserType`
3. 继续实现权限控制.

## 第八周上机
1. 完成上机要求
2. 使用`readonly`属性设置用户名`input`标签为只读,因为用户名作为用户标识,不可改变.
3. 为页面添加权限控制,防止直接请求url删除用户.（通过`session`设置一个flag参数）

## 第七周上机
1. 完成上机要求
2. 优化注册登录逻辑,用户登录失败给出合理的提示,而非直接跳转.（使用`session`传递信息,并及时删除已使用的信息）
3. 注册过程使用AJAX异步判断用户输入的用户名是否已存在（不允许同名用户）
4. 对ajax返回的结果,显示给用户友好提示.（红色绿色文字）
5. 当用户名已存在时,注册表单的提交按钮被禁用,当用户尝试点击时,按钮提示用户相应的信息.（jQuery实现）

## 第六周上机
1. 完成上机要求
2. 授权功能独立文件处理,并能判断是否登录,以及登录用户是否是管理员,越权请求能给出合理的提示,如”没有权限,请使用管理员账户登录“
3. 实现注册完成后,3秒倒计时实现自动登录（也给出超链接直接跳转）,倒计时使用JavaScript动态实现,非`response`重定向的`refresh`.



## 第五周上机
1. 完成上机要求
2. 优化界面,使用CSS3添加风车动画.
3. 完成登录用户显示用户名.


## 第四周上机
1. 完成上机要求.
2. 新增天气显示模块,提示用户当前天气.(天气数据来源：[中国天气网](http://www.weather.com.cn))
